<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>Lib.test.support.script_helper : API documentation</title>

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
  </head>
  <body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="index.html">
            Python3.8 API Documentation
          </a>
        </div>
      </div>
    </nav>

    <div id="showPrivate">
      <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
    </div>

    <div class="container">

      <div class="page-header">
        <h1 class="module"><code><a href="Lib.html" class="code" data-type="Package">Lib</a>.<a href="Lib.test.html" class="code" data-type="Package">test</a>.<a href="Lib.test.support.html" class="code" data-type="Package">support</a>.<a href="Lib.test.support.script_helper.html" class="code" data-type="Module">script_helper</a></code></h1>
      </div>

      <div class="categoryHeader">
        module documentation
      </div>

      <div class="extrasDocstring">
        
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div class="undocumented">Undocumented</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id4176">
  
  <tr class="function">
    
    <td>Function</td>
    <td><a href="Lib.test.support.script_helper.html#interpreter_requires_environment" class="code" data-type="Function">interpreter_requires_environment</a></td>
    <td><span>Returns True if our sys.executable interpreter requires environment variables in order to be able to run at all.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="Lib.test.support.script_helper.html#run_python_until_end" class="code" data-type="Function">run_python_until_end</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="Lib.test.support.script_helper.html#assert_python_ok" class="code" data-type="Function">assert_python_ok</a></td>
    <td><span>Assert that running the interpreter with `args` and optional environment variables `env_vars` succeeds (rc == 0) and return a (return code, stdout, stderr) tuple.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="Lib.test.support.script_helper.html#assert_python_failure" class="code" data-type="Function">assert_python_failure</a></td>
    <td><span>Assert that running the interpreter with `args` and optional environment variables `env_vars` fails (rc != 0) and return a (return code, stdout, stderr) tuple.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="Lib.test.support.script_helper.html#spawn_python" class="code" data-type="Function">spawn_python</a></td>
    <td><span>Run a Python subprocess with the given arguments.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="Lib.test.support.script_helper.html#kill_python" class="code" data-type="Function">kill_python</a></td>
    <td><span>Run the given Popen process until completion and return stdout.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="Lib.test.support.script_helper.html#make_script" class="code" data-type="Function">make_script</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="Lib.test.support.script_helper.html#make_zip_script" class="code" data-type="Function">make_zip_script</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="Lib.test.support.script_helper.html#make_pkg" class="code" data-type="Function">make_pkg</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><a href="Lib.test.support.script_helper.html#make_zip_pkg" class="code" data-type="Function">make_zip_pkg</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><a href="Lib.test.support.script_helper.html#__cached_interp_requires_environment" class="code" data-type="Variable">__cached_interp_requires_environment</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="class private">
    
    <td>Class</td>
    <td><a href="Lib.test.support.script_helper._PythonRunResult.html" class="code" data-type="Class">_PythonRunResult</a></td>
    <td><span>Helper for reporting Python subprocess run results</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><a href="Lib.test.support.script_helper.html#_assert_python" class="code" data-type="Function">_assert_python</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basevariable private">
  
  <a name="Lib.test.support.script_helper.__cached_interp_requires_environment">
    
  </a>
  <a name="__cached_interp_requires_environment">
    
  </a>
  <div class="functionHeader">
    __cached_interp_requires_environment =
    
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="basefunction">
  
  <a name="Lib.test.support.script_helper.interpreter_requires_environment">
    
  </a>
  <a name="interpreter_requires_environment">
    
  </a>
  <div class="functionHeader">
    
    def
    interpreter_requires_environment():
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="pre">Returns True if our sys.executable interpreter requires environment
variables in order to be able to run at all.

This is designed to be used with @unittest.skipIf() to annotate tests
that need to use an assert_python*() function to launch an isolated
mode (-I) or no environment mode (-E) sub-interpreter process.

A normal build &amp; test does not run into this situation but it can happen
when trying to run the standard library test suite from an interpreter that
doesn't have an obvious home with Python's current home finding logic.

Setting PYTHONHOME is one way to get most of the testsuite to run in that
situation.  PYTHONPATH or PYTHONUSERSITE are other common environment
variables that might impact whether or not the interpreter can start.</p></div>
  </div>
</div><div class="basefunction">
  
  <a name="Lib.test.support.script_helper.run_python_until_end">
    
  </a>
  <a name="run_python_until_end">
    
  </a>
  <div class="functionHeader">
    
    def
    run_python_until_end(*args, **env_vars):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="basefunction private">
  
  <a name="Lib.test.support.script_helper._assert_python">
    
  </a>
  <a name="_assert_python">
    
  </a>
  <div class="functionHeader">
    
    def
    _assert_python(*args, **env_vars):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="basefunction">
  
  <a name="Lib.test.support.script_helper.assert_python_ok">
    
  </a>
  <a name="assert_python_ok">
    
  </a>
  <div class="functionHeader">
    
    def
    assert_python_ok(*args, **env_vars):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="pre">Assert that running the interpreter with `args` and optional environment
variables `env_vars` succeeds (rc == 0) and return a (return code, stdout,
stderr) tuple.

If the __cleanenv keyword is set, env_vars is used as a fresh environment.

Python is started in isolated mode (command line option -I),
except if the __isolated keyword is set to False.</p></div>
  </div>
</div><div class="basefunction">
  
  <a name="Lib.test.support.script_helper.assert_python_failure">
    
  </a>
  <a name="assert_python_failure">
    
  </a>
  <div class="functionHeader">
    
    def
    assert_python_failure(*args, **env_vars):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="pre">Assert that running the interpreter with `args` and optional environment
variables `env_vars` fails (rc != 0) and return a (return code, stdout,
stderr) tuple.

See assert_python_ok() for more options.</p></div>
  </div>
</div><div class="basefunction">
  
  <a name="Lib.test.support.script_helper.spawn_python">
    
  </a>
  <a name="spawn_python">
    
  </a>
  <div class="functionHeader">
    
    def
    spawn_python(*args, **kw):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="pre">Run a Python subprocess with the given arguments.

kw is extra keyword args to pass to subprocess.Popen. Returns a Popen
object.</p></div>
  </div>
</div><div class="basefunction">
  
  <a name="Lib.test.support.script_helper.kill_python">
    
  </a>
  <a name="kill_python">
    
  </a>
  <div class="functionHeader">
    
    def
    kill_python(p):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="pre">Run the given Popen process until completion and return stdout.</p></div>
  </div>
</div><div class="basefunction">
  
  <a name="Lib.test.support.script_helper.make_script">
    
  </a>
  <a name="make_script">
    
  </a>
  <div class="functionHeader">
    
    def
    make_script(script_dir, script_basename, source, omit_suffix=(False)):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="basefunction">
  
  <a name="Lib.test.support.script_helper.make_zip_script">
    
  </a>
  <a name="make_zip_script">
    
  </a>
  <div class="functionHeader">
    
    def
    make_zip_script(zip_dir, zip_basename, script_name, name_in_zip=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="basefunction">
  
  <a name="Lib.test.support.script_helper.make_pkg">
    
  </a>
  <a name="make_pkg">
    
  </a>
  <div class="functionHeader">
    
    def
    make_pkg(pkg_dir, init_source=""""""):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="basefunction">
  
  <a name="Lib.test.support.script_helper.make_zip_pkg">
    
  </a>
  <a name="make_zip_pkg">
    
  </a>
  <div class="functionHeader">
    
    def
    make_zip_pkg(zip_dir, zip_basename, pkg_name, script_basename, source, depth=1, compiled=(False)):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div class="undocumented">Undocumented</div>
  </div>
</div>

      </div>
      <address>
        <a href="index.html">API Documentation</a> for Python3.8, generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a> 20.7.1 at 2020-11-24 05:11:37.
      </address>

    </div>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>
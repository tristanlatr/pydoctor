<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>Lib.logging.handlers.WatchedFileHandler : API documentation</title>

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
  </head>
  <body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="index.html">
            Python3.8 API Documentation
          </a>
        </div>
      </div>
    </nav>

    <div id="showPrivate">
      <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
    </div>

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code><a href="Lib.html" class="code" data-type="Package">Lib</a>.<a href="Lib.logging.html" class="code" data-type="Package">logging</a>.<a href="Lib.logging.handlers.html" class="code" data-type="Module">handlers</a>.<a href="Lib.logging.handlers.WatchedFileHandler.html" class="code" data-type="Class">WatchedFileHandler</a></code></h1>
      </div>

      <div class="categoryHeader">
        class documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> Lib.logging.handlers.WatchedFileHandler(<span title="logging.FileHandler">logging.FileHandler</span>):</code></p>
        <p><a href="classIndex.html#Lib.logging.handlers.WatchedFileHandler">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div><p class="pre">A handler for logging to a file, which watches the file
to see if it has changed while in use. This can happen because of
usage of programs such as newsyslog and logrotate which perform
log file rotation. This handler, intended for use under Unix,
watches the file to see if it has changed since the last emit.
(A file has changed if its device or inode have changed.)
If it has changed, the old file stream is closed, and the file
opened to get a new stream.

This handler is not appropriate for use under Windows, because
under Windows open files cannot be moved or renamed - logging
opens the files with exclusive locks - and so there is no need
for such a handler. Furthermore, ST_INO is not supported under
Windows; stat always returns zero for this value.

This handler is based on a suggestion and patch by Chad J.
Schroeder.</p></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id3050">
  
  <tr class="method">
    
    <td>Method</td>
    <td><a href="Lib.logging.handlers.WatchedFileHandler.html#__init__" class="code" data-type="Method">__init__</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><a href="Lib.logging.handlers.WatchedFileHandler.html#dev" class="code" data-type="Instance Variable">dev</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><a href="Lib.logging.handlers.WatchedFileHandler.html#ino" class="code" data-type="Instance Variable">ino</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="Lib.logging.handlers.WatchedFileHandler.html#reopenIfNeeded" class="code" data-type="Method">reopenIfNeeded</a></td>
    <td><span>Reopen log file if needed.</span></td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><a href="Lib.logging.handlers.WatchedFileHandler.html#stream" class="code" data-type="Instance Variable">stream</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><a href="Lib.logging.handlers.WatchedFileHandler.html#emit" class="code" data-type="Method">emit</a></td>
    <td><span>Emit a record.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><a href="Lib.logging.handlers.WatchedFileHandler.html#_statstream" class="code" data-type="Method">_statstream</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  <a name="Lib.logging.handlers.WatchedFileHandler.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    def
    __init__(self, filename, mode="""a""", encoding=None, delay=(False), errors=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="baseinstancevariable">
  
  <a name="Lib.logging.handlers.WatchedFileHandler.dev">
    
  </a>
  <a name="dev">
    
  </a>
  <div class="functionHeader">
    dev =
    
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="baseinstancevariable">
  
  <a name="Lib.logging.handlers.WatchedFileHandler.ino">
    
  </a>
  <a name="ino">
    
  </a>
  <div class="functionHeader">
    ino =
    
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="basemethod private">
  
  <a name="Lib.logging.handlers.WatchedFileHandler._statstream">
    
  </a>
  <a name="_statstream">
    
  </a>
  <div class="functionHeader">
    
    def
    _statstream(self):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="basemethod">
  
  <a name="Lib.logging.handlers.WatchedFileHandler.reopenIfNeeded">
    
  </a>
  <a name="reopenIfNeeded">
    
  </a>
  <div class="functionHeader">
    
    def
    reopenIfNeeded(self):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="pre">Reopen log file if needed.

Checks if the underlying file has changed, and if it
has, close the old stream and reopen the file to get the
current stream.</p></div>
  </div>
</div><div class="baseinstancevariable">
  
  <a name="Lib.logging.handlers.WatchedFileHandler.stream">
    
  </a>
  <a name="stream">
    
  </a>
  <div class="functionHeader">
    stream =
    
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="basemethod">
  
  <a name="Lib.logging.handlers.WatchedFileHandler.emit">
    
  </a>
  <a name="emit">
    
  </a>
  <div class="functionHeader">
    
    def
    emit(self, record):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="pre">Emit a record.

If underlying file has changed, reopen the file before emitting the
record to it.</p></div>
  </div>
</div>

      </div>
      <address>
        <a href="index.html">API Documentation</a> for Python3.8, generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a> 20.7.1 at 2020-11-24 05:11:37.
      </address>

    </div>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>